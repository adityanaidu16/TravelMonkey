<!-- extend layout.html with jinja template -->
{% extends "layout.html" %}

{% block title %}
    Index
{% endblock %}

<!-- main content block in layout.html-->
{% block main %}
        <!-- Masthead-->
        <header class="masthead">
            <div class="container px-4 px-lg-5 d-flex h-100 align-items-center justify-content-center">
                <div class="d-flex justify-content-center">
                    <div class="text-center">
                        <!-- masthead header -->
                        <h1 class="mx-auto my-0 text-uppercase">TravelMonkey</h1>

                        <!-- website description -->
                        <h2 class="text-white-50 mx-auto mt-2 mb-5">Browse and find attractions around the world that cater exactly to your needs.</h2>

                        <!-- Get Started button, linked to filter section -->
                        <a class="btn btn-primary" href="#filter">Get Started</a>
                        
                    </div>
                </div>
            </div>
        </header>

        <!-- filter section-->
        <section class="filter-section text-center" id="filter">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-lg-8">

                        <!-- filter heading -->
                        <h2 class="text-white mb-4">Filter</h2>
                        
                        <div class="container px-5 my-5">
                            <!-- form for filtering attractions -->
                            <form action="#attractions" method="post">

                                <!-- category query -->
                                <div class="form-floating mb-3">
                                    <select class="form-select" id="category" name="category_response" aria-label="Category">
                                        <option value="tourist_attraction">Any</option>
                                        <option value="amusement_park">Amusement Park</option>
                                        <option value="aquarium">Aquarium</option>
                                        <option value="campground">Campground</option>
                                        <option value="museum">Museums</option>
                                        <option value="park">Parks</option>
                                        <option value="restaurant">Restaurants</option>
                                        <option value="shopping_mall">Shopping</option>
                                        <option value="stadium">Stadiums</option>
                                        <option value="tourist_attraction">Tourist Attractions</option>
                                        <option value="zoo">Zoo</option>
                                    </select>
                                    <label for="category">Category</label>
                                </div>

                                <!-- cost query -->
                                <div class="form-floating mb-3">
                                    <div style="text-align: left;">
                                        <label for="cost" style="color: rgb(190, 190, 190)">Cost</label>
                                    </div>
                                    
                                    <div>
                                        <input id="range" type="range" class="form-range" min="0" max="4" step="1" id="cost" name="cost_response">

                                        <!-- cost labels -->
                                        <ul class="mb-0 text-white-50">
                                            <li id="0" style="display:none; padding-right: 100%;">Free</li>
                                            <li id="1" style="display:none; padding-right: 48.5%;" >$</li>
                                            <li id="2" style="display:none">$$</li>
                                        </ul>
                                        <ul class="mb-0 text-white-50 text-right list-inline">
                                            <li id="3" style="display:none; padding-left: 48.5%;" >$$$</li>                                     
                                            <li id="4" style="display:none; padding-left: 94%;">$$$$</li>
                                        </ul>
                                        <!-- cost labels functionality -->
                                        <script>
                                            var slider = document.getElementById("range");
                                            var getVal = slider.value;
                                            var prev_val;

                                            document.getElementById(getVal).style.display = "inline";
                                            prev_val = getVal;
                                            

                                            slider.oninput = function() {
                                                document.getElementById(prev_val).style.display = "none";
                                                document.getElementById(this.value).style.display = "inline";
                                                prev_val = this.value;
                                            }

                                        </script>
                                    </div>
                                </div>

                                <!-- city query -->
                                <div class="form-floating mb-3">
                                    <input class="form-control" id = "autocomplete" placeholder="Location" type="text" name="location_response" required/>
                                    <label for="location">City</label>
                                    <!-- autocomplete city functionality -->
                                    <script>
                                        let autocomplete;
                                        function initAutocomplete() {
                                            autocomplete = new google.maps.places.Autocomplete(
                                                document.getElementById('autocomplete'),
                                                {
                                                    types:['(cities)'],
                                                });
                                        }
                                    </script>
                                    <script src="https://maps.googleapis.com/maps/api/js?key={{ API_KEY }}&libraries=places&callback=initAutocomplete" async defer>
                                    </script>
                                </div>

                                <!-- rating query -->
                                <div class="form-floating mb-3">
                                    <select class="form-select" id="rating" name="rating_response"aria-label="Rating">
                                        <option value="Any">Any</option>
                                        <option value="3">★★★+</option>
                                        <option value="4">★★★★+</option>
                                        <option value="4.6">★★★★★</option>
                                    </select>
                                    <label for="rating">Rating</label>
                                </div>

                                <!-- open query -->
                                <div class="form-floating mb-3">
                                    <div style="text-align: left;">
                                        <label for="open" style="color: rgb(190, 190, 190)">Open Now</label>
                                    </div>
                                    
                                    <div class="form-check form-switch form-switch-lg">
                                        <input class="form-check-input" type="checkbox" id="open" name="open_response" checked>
                                    </div>
                                </div>

                                <!-- form submission -->
                                <button class="btn btn-primary" type="submit">Submit</button>
                            </form>
                        </div>

                    </div>
                </div>

                <!-- spacing between sections -->
                <br><br><br><br><br>

            </div>
        </section>

        <!-- displayattractions.html content -->
        {% block attractions %}{% endblock %}

        <!-- social section-->
        <section class="contact-section" style="background: linear-gradient(to bottom, rgba(116, 116, 116, 0.8) 0%, rgba(88, 88, 88, 0.6) 25%, #000 100%), url('../static/assets/img/bg-signup.jpg');">
                <div class="social d-flex justify-content-center">
                    <a class="mx-2" href="https://github.com/adityanaidu16" target="_blank"><i class="fab fa-github"></i></a>
                </div>
            </div>
        </section>

        <!-- Footer-->
        <footer class="footer bg-black small text-center text-white-50"><div class="container px-4 px-lg-5">Made by Aditya Naidu and Tarun Manoharan<br>Template licensed for free by <a href="https://github.com/StartBootstrap/startbootstrap-grayscale/blob/master/LICENSE" target="_blank" style="color: #cccfff">StartBootstrap</a>.</div></footer>
        
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>

{% endblock %}